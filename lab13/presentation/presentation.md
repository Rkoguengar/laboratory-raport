---
## Front matter
lang: ru-RU
title: Отчёт по лабораторной работе №13
subtitle: Фильтр пакетов (firewalld)
author:
  - Ришард Когенгар
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 22 января 2026

## Formatting pdf
toc: false
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цель работы

## Основная цель

Получить навыки настройки пакетного фильтра в Linux и освоить управление межсетевым экраном **firewalld**:
- через командную строку (**firewall-cmd**);
- через графический интерфейс (**firewall-config**).

# Ход выполнения работы

## Управление брандмауэром с помощью firewall-cmd

- Получены полномочия администратора (root)
- Определена зона по умолчанию: **public**
- Просмотрены:
  - доступные зоны
  - доступные службы
  - службы в активной зоне

![Определение зоны и просмотр зон/служб](Screenshot_1.png){ width=88% }

## Проверка конфигурации зоны public

- Сравнены результаты:
  - просмотр конфигурации активной зоны
  - просмотр конфигурации явно указанной зоны **public**

![Конфигурация активной зоны](Screenshot_2.png){ width=88% }

## Проверка конфигурации зоны public

- Подтверждено: **public** является зоной по умолчанию и активной

![Конфигурация зоны public](Screenshot_3.png){ width=88% }

## Добавление vnc-server во runtime-конфигурацию

- Служба **vnc-server** добавлена в конфигурацию **времени выполнения**
- Проверено наличие службы в списке разрешённых сервисов зоны **public**

![Добавление vnc-server и проверка](Screenshot_4.png){ width=88% }

## Сброс runtime-изменений после перезапуска firewalld

- Выполнен перезапуск службы **firewalld**
- Установлено: **vnc-server** исчез из конфигурации
- Причина: изменения были внесены только во **runtime**, без сохранения в **permanent**

![Отсутствие vnc-server после restart](Screenshot_5.png){ width=88% }

## Добавление vnc-server в permanent-конфигурацию

- Служба **vnc-server** добавлена как **permanent**
- Проверка показала: во runtime конфигурации служба не отображается без перезагрузки правил

![Permanent-добавление без применения](Screenshot_6.png){ width=88% }

## Применение permanent-конфигурации

- Выполнено применение постоянных правил (reload)
- Подтверждено: **vnc-server** активен в зоне **public**

![Применение permanent-конфигурации](Screenshot_7.png){ width=88% }

## Добавление TCP-порта 2022

- В permanent-конфигурацию добавлен порт **2022/tcp**
- После применения правил подтверждено отображение порта в конфигурации зоны

![Добавление 2022/tcp и проверка](Screenshot_8.png){ width=88% }

## Управление брандмауэром с помощью firewall-config

- Запущена утилита **firewall-config**
- Режим **Configuration: Permanent** выбран для сохранения изменений на диске
- Зона: **public**
- Включены службы: **http**, **https**, **ftp**

![Включение служб http/https/ftp (Permanent)](Screenshot_9.png){ width=88% }

## Добавление порта 2022/udp в GUI

- На вкладке **Ports** выполнено добавление:
  - Port: **2022**
  - Protocol: **udp**

![Добавление 2022/udp через GUI](Screenshot_10.png){ width=70% }

## Проверка: permanent-изменения не активны без reload

- После закрытия firewall-config выполнена проверка конфигурации
- Установлено: изменения ещё не применены к конфигурации времени выполнения

![Проверка до reload](Screenshot_11.png){ width=88% }

## Применение изменений после reload

- Выполнено применение правил
- Подтверждено:
  - службы **http/https/ftp** активны
  - порт **2022/udp** активен

![Проверка после reload](Screenshot_12.png){ width=88% }

## Добавление imap/pop3/smtp через GUI

- Зона: **public**
- Режим: **Permanent**
- Отмечены службы: **imap**, **pop3**, **smtp**

![Добавление служб imap/pop3/smtp в GUI](Screenshot_13.png){ width=88% }

## Добавление telnet через CLI и итоговая проверка

- telnet добавлен в **permanent**, затем применён (reload)
- Итоговая проверка подтвердила наличие:
  - сервисов (включая telnet, imap, pop3, smtp)
  - портов (2022/tcp, 2022/udp)

![Итоговая конфигурация (telnet + services + ports)](Screenshot_14.png){ width=88% }

# Итоги работы

## Вывод

- Освоены два подхода к управлению firewalld: **firewall-cmd** и **firewall-config**
- Показано различие между:
  - конфигурацией **времени выполнения** (runtime)
  - **постоянной** конфигурацией (permanent)
- Настроена постоянная конфигурация, обеспечивающая доступ к требуемым службам и портам, и корректно применяемая после **reload/перезагрузки**
