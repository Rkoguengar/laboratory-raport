---
## Front matter
lang: ru-RU
title: Лабораторная работа №11
subtitle: Управление загрузкой системы
author:
  - Ришард Когенгар
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 21 января 2026

## Formatting pdf
toc: false
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цель работы

## Основная цель

Получить практические навыки работы с загрузчиком GRUB2, изучить способы изменения параметров загрузки системы, диагностики неисправностей и восстановления доступа администратора.

# Ход выполнения работы

## Общая настройка загрузчика

- Получены права суперпользователя
- Открыт файл конфигурации `/etc/default/grub`
- Изменён параметр времени отображения меню загрузки
- Установлено значение `GRUB_TIMEOUT = 10`

![Редактирование файла /etc/default/grub](Screenshot_1.png){ width=80% }

## Применение изменений

- Конфигурация GRUB2 пересобрана
- Обновлён файл `/boot/grub2/grub.cfg`
- Выполнена перезагрузка системы
- Подтверждено отображение меню GRUB
- Отключены параметры `rhgb` и `quiet` для вывода загрузочных сообщений

![Меню загрузчика GRUB2](Screenshot_2.png){ width=80% }

## Загрузка в rescue.target

- В меню GRUB выбран пункт с текущим ядром
- Выполнено редактирование параметров загрузки
- Добавлен параметр `systemd.unit=rescue.target`
- Удалены параметры скрытия загрузки

![Загрузка в rescue.target](Screenshot_3.png){ width=80% }

## Анализ состояния системы

- Выполнен вход под пользователем root
- Просмотрен список активных модулей systemd
- Установлено, что загружена минимальная рабочая среда
- Проанализированы переменные среды systemd

![Анализ загруженных модулей](Screenshot_4.png){ width=80% }

## Загрузка в emergency.target

- Повторное редактирование параметров GRUB
- Добавлен параметр `systemd.unit=emergency.target`
- Выполнена загрузка системы

![Загрузка в emergency.target](Screenshot_5.png){ width=80% }

## Минимальная среда

- Выполнен вход под root
- Просмотрен список загруженных модулей
- Установлено, что система загружена с минимальным набором компонентов

![Минимальный набор модулей](Screenshot_6.png){ width=80% }


## Использование rd.break

- В меню GRUB выполнено редактирование параметров ядра
- Добавлен параметр `rd.break`
- Загрузка остановлена на этапе initramfs

![Добавление параметра rd.break](Screenshot_7.png){ width=80% }

## Восстановление доступа

- Корневая файловая система перемонтирована в режиме записи
- Выполнен переход в окружение системы
- Установлен новый пароль root
- Восстановлены контексты SELinux
- Выполнена принудительная перезагрузка

![Сброс пароля root](Screenshot_8.png){ width=80% }

# Итоги работы

## Вывод

- Изучены принципы работы загрузчика GRUB2
- Освоено изменение параметров загрузки системы
- Выполнена загрузка в режимах rescue и emergency
- Получены навыки диагностики и восстановления системы
- Освоен безопасный сброс пароля пользователя root  
