---
## Front matter
lang: ru-RU
title: Лабораторная работа №6
subtitle: Управление процессами и заданиями в Linux
author:
  - Ришард Когенгар
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 19 января 2026

## Formatting pdf
toc: false
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цель работы

## Основная цель

Освоить практические навыки управления заданиями и процессами в Linux:
- запуск процессов в фоне и на переднем плане;
- приостановка и возобновление заданий (`Ctrl+Z`, `bg`, `fg`);
- мониторинг процессов (`jobs`, `ps`, `top`);
- управление приоритетами (`nice`, `renice`);
- завершение процессов и групп процессов (`kill`, `killall`) и работа с сигналами.

# Ход выполнения работы

## Управление заданиями: запуск процессов и остановка

- Получение прав администратора: `su`
- Запуск фоновых заданий:
  - `sleep 3600 &`
  - `dd if=/dev/zero of=/dev/null &`
- Запуск задания на переднем плане: `sleep 7200`
- Приостановка текущего задания: `Ctrl + Z`

![Запуск заданий и перевод sleep 7200 в Stopped](Screenshot_1.png){ width=80% }

## Управление заданиями: jobs и перевод в фон

- Просмотр активных заданий текущей оболочки: `jobs`
- Состояния:
  - `Running` — выполняется
  - `Stopped` — приостановлено
- Возобновление задания №3 в фоне: `bg 3`
- Проверка изменений: `jobs`

![Проверка jobs и перевод задания 3 в фон](Screenshot_1.png){ width=80% }

## Управление заданиями: fg и завершение заданий

- Перевод задания №1 на передний план: `fg 1`
- Завершение текущего задания: `Ctrl + C`
- Аналогичная отмена заданий №2 и №3 через `fg` и `Ctrl + C`
- Контроль состояния: `jobs`

![Перевод заданий на передний план и их отмена](Screenshot_2.png){ width=80% }

## Процесс продолжает работу после закрытия терминала

- Во втором терминале запущен процесс: `dd if=/dev/zero of=/dev/null &`
- Второй терминал закрыт командой `exit`
- В другом терминале выполнен запуск мониторинга: `top`
- В списке процессов наблюдается активный `dd`

![Процесс dd виден в top после закрытия терминала](Screenshot_3.png){ width=80% }

## Завершение процесса из top

- Повторный запуск `top`
- Завершение процесса командой `k` (ввод PID и сигнала)
- Выход из `top`: `q`
- Повторная проверка подтверждает отсутствие `dd`

![Процесс dd завершён, в top отсутствует](Screenshot_4.png){ width=80% }

## Управление процессами: ps и renice

- Получение прав администратора: `su`
- Запуск трёх процессов нагрузки:
  - `dd if=/dev/zero of=/dev/null &` (три раза)
- Поиск процессов:
  - `ps aux | grep dd`
- Изменение приоритета одного процесса:
  - `renice -n 5 <PID>`

![Поиск dd и изменение приоритета renice](Screenshot_5.png){ width=80% }

## Иерархия процессов и завершение родителя

- Просмотр дерева процессов:
  - `ps fax | grep -B5 dd`
- Определение PID родительской root-оболочки
- Принудительное завершение родительского процесса:
  - `kill -9 <PID_оболочки>`
- Завершение родителя приводит к остановке всех дочерних `dd`

![Дерево процессов и завершение родительской оболочки](Screenshot_6.png){ width=80% }

# Самостоятельная работа

## Задание 1: dd и приоритеты

- Три запуска `dd if=/dev/zero of=/dev/null &`
- Повышение приоритета выбранного процесса:
  - `renice -n -5 <PID>`
  - затем `renice -n -15 <PID>`
- Разница: чем меньше значение nice (ближе к -20), тем выше приоритет планирования
- Завершение всех `dd` одной командой: `killall dd`

![Изменение приоритета dd и завершение killall](Screenshot_7.png){ width=80% }

## Задание 2: yes в фоне и на переднем плане

- Запуск в фоне с подавлением вывода:
  - `yes > /dev/null &`
- Запуск на переднем плане с подавлением вывода:
  - `yes > /dev/null`
- Приостановка процесса: `Ctrl + Z`
- Завершение процесса на переднем плане: `Ctrl + C`
- Контроль заданий: `jobs`

![Запуск yes, приостановка и просмотр jobs](Screenshot_8.png){ width=80% }

## fg / bg и запуск с nohup

- Просмотр заданий: `jobs`
- Перевод задания на передний план: `fg 1`
- Перевод остановленного задания в фон: `bg 2`
- Запуск процесса так, чтобы он продолжал работу после отключения от терминала:
  - `nohup yes > /dev/null &`
- Контроль статусов: `jobs`

![fg, bg и запуск nohup](Screenshot_9.png){ width=80% }

## top: мониторинг процессов yes

- Запуск `top` для контроля процессов системы
- В списке отображаются активные процессы `yes`, потребляющие CPU
- Выход из `top`: `q`

![Процессы yes в top](Screenshot_10.png){ width=80% }

## Завершение процессов и сигналы

- Запуск нескольких `yes > /dev/null &`
- Завершение по PID: `kill <PID>`
- Завершение по идентификатору задания (через перевод на передний план и `Ctrl+C` либо по PID)
- Отправка сигнала SIGHUP:
  - `kill -1 <PID>`
- Массовое завершение процессов:
  - `killall yes`

![kill, SIGHUP и killall для yes](Screenshot_11.png){ width=80% }

## nice и renice: сравнение приоритетов

- Запуск обычного процесса:
  - `yes > /dev/null &`
- Запуск процесса с увеличенным nice (ниже приоритет):
  - `nice -n 5 yes > /dev/null &`
- Сравнение приоритетов через вывод процессов (`ps`)
- Изменение приоритета у процесса в ходе выполнения:
  - `renice -n 5 <PID>`
- Завершение всех `yes`: `killall yes`

![Сравнение nice и renice для yes](Screenshot_12.png){ width=80% }

# Итоги работы

## Вывод

- Освоены команды управления заданиями (`jobs`, `bg`, `fg`, `Ctrl+Z`, `Ctrl+C`)
- Выполнен мониторинг процессов с использованием `top` и `ps`
- Отработано управление приоритетами (`nice`, `renice`) и влияние значений nice на планирование CPU
- Практически применены способы завершения процессов по PID и имени (`kill`, `killall`), а также работа с сигналами  
